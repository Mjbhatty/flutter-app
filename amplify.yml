version: 1
frontend:
  phases:
    build:
      commands:
        - cd bismillah  # Change directory to your Flutter project directory
        - flutter pub get  # Install dependencies
        - flutter clean  # Clean any existing build artifacts
        - flutter build web --release  # Build Flutter web app for release

  artifacts:
    baseDirectory: bismillah/build/web
    files:
      - '**/*'

  cache:
    paths:
      - .pub-cache
      - bismillah/.dart_tool/build

# Optionally, you can add backend configuration here if needed

# Optionally, add hosting configuration for AWS Amplify
backend:
  phases:
    preBuild:
      commands:
        - echo "Executing preBuild commands"

  artifacts:
    baseDirectory: /build
    files:
      - /**
      
  cache:
    paths:
      - /root/.pub-cache
